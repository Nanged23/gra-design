# é¡¹ç›®åç«¯æœåŠ¡

## ğŸ“ æ¦‚è¿°
æœ¬åˆ†æ”¯ä¸ºé¡¹ç›®åç«¯éƒ¨åˆ†ï¼Œä½¿ç”¨ Python3.12ï¼Œé‡‡ç”¨å¤šè“å›¾æ–¹å¼å®ç°å„æ¨¡å—ã€‚

## ğŸ›  æ ¸å¿ƒæ¶æ„
**ä¸»è¦æŠ€æœ¯æ ˆ**:
- **Webæ¡†æ¶**: Flask + SocketIO
- **æ•°æ®åº“**: MySQL (ä¸»å­˜å‚¨) + Redis (ç¼“å­˜)
- **äº‘æœåŠ¡**: é˜¿é‡Œäº‘OSS (å¯¹è±¡å­˜å‚¨)
- 
## ğŸ“ è®¾è®¡æ–‡æ¡£

åŠŸèƒ½éœ€æ±‚åˆ†æå›¾ã€å®ä½“è”ç³»å›¾ã€å®ä½“å±æ€§å›¾ï¼š
![å›¾1](../gra-design/src/assert/img1.png)

æ¥å£ä¸€è§ˆå›¾ã€ç³»ç»Ÿæ¶æ„å›¾ã€åŠŸèƒ½æ¨¡å—å›¾ï¼š
![å›¾2](../gra-design/src/assert/img2.png)

## ğŸ“ æ–‡ä»¶ç»“æ„
```bash
.
â”œâ”€â”€ readme.md
â”œâ”€â”€ requirements.txt
â””â”€â”€ src
    â”œâ”€â”€ assert
    â”‚   â””â”€â”€ 404.jpeg
    â”œâ”€â”€ basic
    â”‚   â””â”€â”€ extensions.py
    â”œâ”€â”€ cur_platform
    â”‚   â”œâ”€â”€ article
    â”‚   â”‚   â”œâ”€â”€ controller
    â”‚   â”‚   â”‚   â””â”€â”€ article_app.py 
    â”‚   â”‚   â”œâ”€â”€ entity.py
    â”‚   â”‚   â””â”€â”€ service
    â”‚   â”‚       â””â”€â”€ article_service.py
    â”‚   â”œâ”€â”€ moment
    â”‚   â”‚   â”œâ”€â”€ controller
    â”‚   â”‚   â”‚   â””â”€â”€ moment_app.py
    â”‚   â”‚   â”œâ”€â”€ entity.py
    â”‚   â”‚   â””â”€â”€ service
    â”‚   â”‚       â””â”€â”€ moment_service.py
    â”‚   â””â”€â”€ todo
    â”‚       â”œâ”€â”€ controller
    â”‚       â”‚   â””â”€â”€ todo_app.py
    â”‚       â”œâ”€â”€ entity.py
    â”‚       â””â”€â”€ service
    â”‚           â””â”€â”€ todo_service.py
    â”œâ”€â”€ final.py
    â”œâ”€â”€ scripts
    â”‚   â”œâ”€â”€ backup_mysql.py
    â”‚   â”œâ”€â”€ backup_redis.py
    â”‚   â”œâ”€â”€ handle_secret.py 
    â”œâ”€â”€ third_platform
    â”‚   â”œâ”€â”€ douban
    â”‚   â”‚   â”œâ”€â”€ controller
    â”‚   â”‚   â”‚   â””â”€â”€ douban_app.py
    â”‚   â”‚   â”œâ”€â”€ entity.py
    â”‚   â”‚   â”œâ”€â”€ service
    â”‚   â”‚   â”‚   â””â”€â”€ douban_service.py
    â”‚   â”‚   â””â”€â”€ utils
    â”‚   â”‚       â””â”€â”€ util.py
    â”‚   â””â”€â”€ weread
    â”‚       â”œâ”€â”€ controller
    â”‚       â”‚   â””â”€â”€ weread_app.py
    â”‚       â””â”€â”€ service
    â”‚           â”œâ”€â”€ authentication.py
    â”‚           â””â”€â”€ weread_service.py
    â””â”€â”€ user
        â”œâ”€â”€ controller
        â”‚   â””â”€â”€ user_app.py
        â”œâ”€â”€ entity.py
        â”œâ”€â”€ service
        â”‚   â”œâ”€â”€ code_verify.py
        â”‚   â””â”€â”€ user_service.py
        â””â”€â”€ utils
            â””â”€â”€ add_score.py     
```
- **assert æ–‡ä»¶å¤¹**ç”¨äºå­˜å‚¨åª’ä½“æ•°æ®
- **basic æ–‡ä»¶å¤¹**å®Œæˆäº†é¡¹ç›®çš„åˆå§‹åŒ–å†…å®¹ï¼Œå¦‚åˆå§‹åŒ–æ•°æ®åº“ï¼Œåˆå§‹åŒ– executor é˜Ÿåˆ—ï¼Œåˆ›å»º socketIO å®ä¾‹ç­‰
- **cur_platformã€third_platform å’Œuser** æ˜¯ä¸»è¦åŠŸèƒ½çš„å®ç°ã€‚ä¸‰ä¸ªæ–‡ä»¶å¤¹åˆ†åˆ«è¡¨ç¤ºä¸åŒçš„æœåŠ¡æ¨¡å—ï¼Œå„æ¨¡å—éƒ½æ˜¯ controllerã€service æ–‡ä»¶å¤¹+entity.pyçš„ä¸»æ¶æ„ï¼Œåˆ†åˆ«æ˜¯æ¥å£å±‚åŠå…¶å¯¹åº”å®ç°ã€‚éƒ¨åˆ†æ¨¡å—å«æœ‰çš„ utils æ–‡ä»¶å¤¹é‡Œï¼Œæ˜¯å°è£…äº†ä¸€äº›å·¥å…·å‡½æ•°ã€‚
- **scripts æ–‡ä»¶å¤¹**å­˜å‚¨äº†è„šæœ¬æ–‡ä»¶ï¼Œåˆ†åˆ«æ˜¯è§£å¯†.envã€å¤‡ä»½ mysql å’Œ redis
- **final.py** æ˜¯ä¸»å¯åŠ¨æ–‡ä»¶ï¼ŒåŒ…å«äº†ä¸€äº›å¤„ç†é€»è¾‘ï¼šwebsocket çš„äº¤äº’ï¼Œå„æ¨¡å—è“å›¾çš„æ³¨å†Œ
- **.env** æ–‡ä»¶å­˜å‚¨äº†ä¸€äº›å­—å…¸ï¼šmysqlã€redis çš„è¿æ¥è·¯å¾„ï¼›é˜¿é‡Œäº‘ OSSã€ç™¾åº¦ AIã€Kimi çš„ token

## âš ï¸ ä¸è¶³éƒ¨åˆ†

- åœ¨å¾®ä¿¡è¯»ä¹¦çš„æ‰«ç ç™»å½•å’Œä¸ªäººä¿¡æ¯è·å–åŠŸèƒ½ä¸­ï¼ˆ``src/third_platform/weread/``ï¼‰ï¼ŒåŸæ‰“ç®—ä½¿ç”¨ pyppeteer å®Œæˆï¼Œä½†æ˜¯ç”±äº pyppeteer å’Œ flask å­˜åœ¨åŒæ­¥å¼‚æ­¥çš„é—®é¢˜ï¼Œéœ€è¦å°† flask é‡æ„æˆ–é›†æˆ Celery / Quart å®ç°ï¼Œç”±äºæ—¶é—´ä¸è¶³ï¼Œæœªäºˆä»¥å°è¯•ï¼Œè€Œæ˜¯é‡‡ç”¨äº†åŸç”Ÿ socket çš„æ–¹å¼å®Œæˆï¼Œè¯¦è§ final.pyï¼Œè®¡åˆ’åç»­è§£è€¦æˆå•ç‹¬æ–‡ä»¶
- åœ¨é¡¹ç›®ä»£ç ä¸­ï¼Œå†™æœ‰ todo éƒ¨åˆ†æœªå®Œæˆ
- åœ¨ requirements.txt ä¸­ï¼Œéƒ¨åˆ†åŒ…æœªè¢«æ¶µç›–ï¼Œå¯¼è‡´è¿è¡Œå¯èƒ½å‡ºç° ImportError é”™è¯¯ï¼Œéœ€æ‰‹åŠ¨å®‰è£…
- å¾®ä¿¡è¯»ä¹¦æ¨¡å—é‡Œï¼Œä¹¦æ¶ä¿¡æ¯åœ¨ç”µè„‘ç«¯å’Œæ‰‹æœºç«¯éƒ½å¯ä»¥è·å–ï¼Œé˜…è¯»æ€»ç»“æ•°æ®ä»…æ‰‹æœºç«¯å«æœ‰ã€‚è·å–äºŒè€…ä¿¡æ¯éƒ½ä¸ç¨³å®šï¼ŒåŸå› æš‚æœªçŸ¥ï¼Œï¼Œ

## ğŸ” ä¸Šæ‰‹ä½¿ç”¨
1. **åˆå§‹åŒ–ç¯å¢ƒ:**
- å®‰è£…ä¾èµ–ï¼š``pip install -r requirements.txt``
- é…ç½®æ•°æ®åº“ï¼šåˆ›å»ºæ•°æ®åº“ streamï¼Œå¹¶è¿è¡Œè„šæœ¬ stream.sql 
- é…ç½®.envï¼šæ‰“å¼€``src/scripts/handle_secret.py`` è¾“å…¥å¯†é’¥ï¼Œç²˜è´´åŠ å¯†åçš„å†…å®¹ï¼Œè¿˜åŸ.env