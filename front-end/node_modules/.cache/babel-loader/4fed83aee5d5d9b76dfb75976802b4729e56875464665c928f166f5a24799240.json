{"ast":null,"code":"import \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport \"core-js/modules/esnext.iterator.some.js\";\nimport Cookies from 'js-cookie';\nexport default {\n  mounted() {\n    Cookies.set('skey', 'e90XIBSI', {\n      expires: 7\n    });\n    Cookies.set('vid', '442726869', {\n      expires: 7\n    });\n  },\n  data() {\n    return {\n      data: {}\n    };\n  },\n  computed: {\n    // 获取不在任何文件夹中的书籍\n  },\n  methods: {\n    get_message() {\n      let url = \"http://127.0.0.1:5000/weread/info\";\n      fetch(url, {\n        method: 'POST',\n        credentials: 'include' // 或者 POST 等其他请求方法，按需调整\n      }).then(response => response.json()).then(jsonData => {\n        this.data = jsonData;\n        console.log(this.data.archive);\n      }).catch(error => console.error(\"获取用户信息时出现 bug \" + error));\n    },\n    // 获取某个文件夹中包含的书籍\n    getBooksInFolder(bookIds) {\n      return this.data.books.filter(book => bookIds.includes(book.bookId));\n    },\n    booksNotInFolders() {\n      return this.data.books.filter(book => !this.data.archive.some(folder => folder.bookIds.includes(book.bookId)));\n    }\n  }\n};","map":{"version":3,"names":["Cookies","mounted","set","expires","data","computed","methods","get_message","url","fetch","method","credentials","then","response","json","jsonData","console","log","archive","catch","error","getBooksInFolder","bookIds","books","filter","book","includes","bookId","booksNotInFolders","some","folder"],"sources":["/Users/dongliwei/Desktop/文档/CQUPT 课程/毕业设计/Front-end/front-end/src/components/third-content/third_douban.vue"],"sourcesContent":["<!-- <style></style>\n\n<template>\n   \n</template>\n<script>\n\nexport default {\n    mounted() {\n        Cookies.set('skey', 'e90XIBSI', { expires: 7 });\n        Cookies.set('vid', '442726869', { expires: 7 });\n    },\n    methods: {\n        get_message() {\n            let url = \"http://127.0.0.1:5000/weread/info\"\n            fetch(url, {\n                method: 'POST',\n                credentials: 'include' // 或者 POST 等其他请求方法，按需调整\n            }).then(response => response.json())\n                .then(jsonData => console.log(jsonData))\n                .catch(error => console.error(\"获取用户信息时出现 bug \" + error));\n\n        }\n    }\n};\n</script> -->\n<style scoped>\n  .card {\n    box-sizing: border-box;\n    width: 126px;\n    height: 180px;\n    background: rgba(217, 217, 217, 0.58); \n    box-shadow: 12px 17px 51px rgba(0, 0, 0, 0.22);\n    backdrop-filter: blur(6px);\n    border-radius: 17px;\n    text-align: center;\n    cursor: pointer;\n    transition: all 0.5s;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    user-select: none;\n    font-weight: bolder;\n    color: black;\n  }\n\n  .card:hover {\n    border: 1px solid black;\n    transform: scale(1.05);\n  }\n\n  .card:active {\n    transform: scale(0.95) rotateZ(1.7deg);\n  } \n  .card img{\n    border-radius: 17px;\n    object-fit: cover;\n  }\n</style>\n\n<template>\n <button @click=\"get_message()\">\n        获取\n    </button>\n<div v-for=\"folder in this.data.archive\" :key=\"folder.name\">\n            <div class=\"folder\">\n\n                <!-- 渲染文件夹封面和书籍 -->\n                <div v-if=\"getBooksInFolder(folder.bookIds).length > 0\">\n                     \n                    <ul>\n                        <li v-for=\"book in getBooksInFolder(folder.bookIds)\" :key=\"book.bookId\">{{ book.title }}</li>\n                    </ul>\n                </div>\n                <h3>{{ folder.name }}</h3>\n                <hr>\n            </div>\n        </div>\n<div v-for=\"book in booksNotInFolders\" :key=\"book.bookId\" class=\"book\">\n\n    <div class=\"card\">\n    <img :src=\"book.cover\"></img>\n  </div>\n<h4>{{ book.title }}</h4>\n\n</div>\n</template>\n<script>\nimport Cookies from 'js-cookie';\nexport default {\n    mounted() {\n        Cookies.set('skey', 'e90XIBSI', { expires: 7 });\n        Cookies.set('vid', '442726869', { expires: 7 });\n    },\n    data() {\n        return {\n   data:{}\n}\n    },\n    computed: {\n        // 获取不在任何文件夹中的书籍\n       \n    },\n    methods: {\n        get_message() {\n            let url = \"http://127.0.0.1:5000/weread/info\"\n            fetch(url, {\n                method: 'POST',\n                credentials: 'include' // 或者 POST 等其他请求方法，按需调整\n            }).then(response => response.json())\n                .then(jsonData => {this.data=(jsonData);\n                console.log(this.data.archive)})\n                .catch(error => console.error(\"获取用户信息时出现 bug \" + error));\n              \n            \n        },\n        // 获取某个文件夹中包含的书籍\n        getBooksInFolder(bookIds) {\n            return this.data.books.filter(book => bookIds.includes(book.bookId));\n        }, booksNotInFolders() {\n            return this.data.books.filter(book =>\n                !this.data.archive.some(folder => folder.bookIds.includes(book.bookId))\n            );\n        },\n    },\n};\n</script>"],"mappings":";;;AAwFA,OAAOA,OAAM,MAAO,WAAW;AAC/B,eAAe;EACXC,OAAOA,CAAA,EAAG;IACND,OAAO,CAACE,GAAG,CAAC,MAAM,EAAE,UAAU,EAAE;MAAEC,OAAO,EAAE;IAAE,CAAC,CAAC;IAC/CH,OAAO,CAACE,GAAG,CAAC,KAAK,EAAE,WAAW,EAAE;MAAEC,OAAO,EAAE;IAAE,CAAC,CAAC;EACnD,CAAC;EACDC,IAAIA,CAAA,EAAG;IACH,OAAO;MACZA,IAAI,EAAC,CAAC;IACT;EACI,CAAC;EACDC,QAAQ,EAAE;IACN;EAAA,CAEH;EACDC,OAAO,EAAE;IACLC,WAAWA,CAAA,EAAG;MACV,IAAIC,GAAE,GAAI,mCAAkC;MAC5CC,KAAK,CAACD,GAAG,EAAE;QACPE,MAAM,EAAE,MAAM;QACdC,WAAW,EAAE,SAAQ,CAAE;MAC3B,CAAC,CAAC,CAACC,IAAI,CAACC,QAAO,IAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC,EAC9BF,IAAI,CAACG,QAAO,IAAK;QAAC,IAAI,CAACX,IAAI,GAAEW,QAAS;QACvCC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACb,IAAI,CAACc,OAAO,CAAC;MAAA,CAAC,EAC9BC,KAAK,CAACC,KAAI,IAAKJ,OAAO,CAACI,KAAK,CAAC,gBAAe,GAAIA,KAAK,CAAC,CAAC;IAGhE,CAAC;IACD;IACAC,gBAAgBA,CAACC,OAAO,EAAE;MACtB,OAAO,IAAI,CAAClB,IAAI,CAACmB,KAAK,CAACC,MAAM,CAACC,IAAG,IAAKH,OAAO,CAACI,QAAQ,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC;IACxE,CAAC;IAAEC,iBAAiBA,CAAA,EAAG;MACnB,OAAO,IAAI,CAACxB,IAAI,CAACmB,KAAK,CAACC,MAAM,CAACC,IAAG,IAC7B,CAAC,IAAI,CAACrB,IAAI,CAACc,OAAO,CAACW,IAAI,CAACC,MAAK,IAAKA,MAAM,CAACR,OAAO,CAACI,QAAQ,CAACD,IAAI,CAACE,MAAM,CAAC,CAC1E,CAAC;IACL;EACJ;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}