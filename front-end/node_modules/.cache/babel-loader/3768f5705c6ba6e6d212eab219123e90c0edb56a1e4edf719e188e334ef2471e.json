{"ast":null,"code":"import axios from 'axios';\nimport store from '@/store'; // 引入 Vuex 的 store\n\n// 创建一个 Axios 实例\nconst instance = axios.create({\n  baseURL: 'http://localhost:5000',\n  // 配置你的 API 基础地址\n  timeout: 5000 // 请求超时时间\n});\n\n// 请求拦截器：请求发起时显示加载动画\ninstance.interceptors.request.use(config => {\n  store.dispatch('../Loading'); // 触发 Vuex 的加载动画状态\n  return config;\n}, error => {\n  store.dispatch('loading/stopLoading'); // 请求错误时停止动画\n  return Promise.reject(error);\n});\n\n// 响应拦截器：请求完成后隐藏加载动画\ninstance.interceptors.response.use(response => {\n  store.dispatch('loading/stopLoading'); // 停止加载动画\n  return response;\n}, error => {\n  store.dispatch('loading/stopLoading'); // 请求错误也停止动画\n  return Promise.reject(error);\n});\nexport default instance;","map":{"version":3,"names":["axios","store","instance","create","baseURL","timeout","interceptors","request","use","config","dispatch","error","Promise","reject","response"],"sources":["/Users/dongliwei/Desktop/文档/CQUPT 课程/毕业设计/Front-end/front-end/src/plugins/axios.js"],"sourcesContent":["import axios from 'axios';\nimport store from '@/store'; // 引入 Vuex 的 store\n\n// 创建一个 Axios 实例\nconst instance = axios.create({\n  baseURL: 'http://localhost:5000', // 配置你的 API 基础地址\n  timeout: 5000, // 请求超时时间\n  \n});\n\n// 请求拦截器：请求发起时显示加载动画\ninstance.interceptors.request.use((config) => {\n  store.dispatch('../Loading'); // 触发 Vuex 的加载动画状态\n  return config;\n}, (error) => {\n  store.dispatch('loading/stopLoading'); // 请求错误时停止动画\n  return Promise.reject(error);\n});\n\n// 响应拦截器：请求完成后隐藏加载动画\ninstance.interceptors.response.use((response) => {\n  store.dispatch('loading/stopLoading'); // 停止加载动画\n  return response;\n}, (error) => {\n  store.dispatch('loading/stopLoading'); // 请求错误也停止动画\n  return Promise.reject(error);\n});\n\nexport default instance;\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,MAAM,SAAS,CAAC,CAAC;;AAE7B;AACA,MAAMC,QAAQ,GAAGF,KAAK,CAACG,MAAM,CAAC;EAC5BC,OAAO,EAAE,uBAAuB;EAAE;EAClCC,OAAO,EAAE,IAAI,CAAE;AAEjB,CAAC,CAAC;;AAEF;AACAH,QAAQ,CAACI,YAAY,CAACC,OAAO,CAACC,GAAG,CAAEC,MAAM,IAAK;EAC5CR,KAAK,CAACS,QAAQ,CAAC,YAAY,CAAC,CAAC,CAAC;EAC9B,OAAOD,MAAM;AACf,CAAC,EAAGE,KAAK,IAAK;EACZV,KAAK,CAACS,QAAQ,CAAC,qBAAqB,CAAC,CAAC,CAAC;EACvC,OAAOE,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CAAC,CAAC;;AAEF;AACAT,QAAQ,CAACI,YAAY,CAACQ,QAAQ,CAACN,GAAG,CAAEM,QAAQ,IAAK;EAC/Cb,KAAK,CAACS,QAAQ,CAAC,qBAAqB,CAAC,CAAC,CAAC;EACvC,OAAOI,QAAQ;AACjB,CAAC,EAAGH,KAAK,IAAK;EACZV,KAAK,CAACS,QAAQ,CAAC,qBAAqB,CAAC,CAAC,CAAC;EACvC,OAAOE,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CAAC,CAAC;AAEF,eAAeT,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}